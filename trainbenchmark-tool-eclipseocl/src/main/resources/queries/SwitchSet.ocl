Route.allInstances()->select(active = true)->collect(
	route | route.entry->select(signal = Signal::GO)->collect(
		semaphore | route.follows->collect(
			swP | swP.target->select(currentPosition <> swP.position)->collect(
				sw | Tuple{route = route, semaphore = semaphore, swP = swP, sw = sw}
			)
		)
	)
)
-- todocm: could reformulate these queries as invariants, following the descriptions in https://link-springer-com.ub-proxy.fernuni-hagen.de/article/10.1007/s10270-016-0571-8
